#include <stdlib.h>
#include <time.h>
#include <unistd.h>
#include <iostream>
#include <fstream>
#include <streambuf>
#include <string>
#include <sstream>

#ifndef PI
#define PI 3.14159265
#endif

#include "Gear.h"
#include "ENRICCamValve.h"

using namespace std;
int main() {

    double rMin = 50;
    double rMax = 70;
    double lenValve = 200;
    double diamValve = 80;
    double Alpha = 0*PI;
    double Gamma = PI / 8;

    Gear* g1 = g_init(true, 100, 70, 30, 20);
    Gear* g2 = g_init_for_connection(g1, true, 70, 50);

    if (g1 == NULL || g2 == NULL) {
        cout << "Gear is null" << endl;
    return 0;
    }

    Connection* conn = g_init_connection(g1, g2, 30);

    Gear* g3 = g_init(true, 100, 50, 30, 20);
    Gear* g4 = g_init_for_connection(g1, true, 30, 20);

    Connection* conn2 = g_init_connection(g3, g4, 0);
    Connection* conn3 = g_init_connection(g3, g4, 0);
    g_set_next_connection(&conn, conn2);
    g_set_next_connection(&conn, conn3);

    g_export_connection(conn, "output/engine");

    g_connection_delete(&conn);
}
